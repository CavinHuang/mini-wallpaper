{"version":3,"sources":["uni-app:///main.js","webpack:///G:/NodeProjects/mini-wallpaper/mini-program/pages/client/tuan/buy.vue?c6dc","webpack:///G:/NodeProjects/mini-wallpaper/mini-program/pages/client/tuan/buy.vue?b813","webpack:///G:/NodeProjects/mini-wallpaper/mini-program/pages/client/tuan/buy.vue?a275","webpack:///G:/NodeProjects/mini-wallpaper/mini-program/pages/client/tuan/buy.vue?fe4a","uni-app:///pages/client/tuan/buy.vue","webpack:///G:/NodeProjects/mini-wallpaper/mini-program/pages/client/tuan/buy.vue?1832","webpack:///G:/NodeProjects/mini-wallpaper/mini-program/pages/client/tuan/buy.vue?0e7a"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,+F,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,YAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;AACa;;;AAG/D;AAC8M;AAC9M,gBAAgB,sNAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA0yB,CAAgB,0zBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgG9zB;AACA,MADA,kBACA;AACA;AACA,uBADA;AAEA,YAFA;AAGA,kBAHA;AAIA,iBAJA;AAKA,mBALA;AAMA,kBANA;AAOA,cAPA;AAQA,YARA;AASA,gBATA;AAUA,kBAVA;AAWA;AACA,+BADA;AAEA,+BAFA;AAGA,+BAHA,CAXA;;;AAiBA,GAnBA;AAoBA,QApBA,kBAoBA,MApBA,EAoBA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;AAQA,GAnCA;AAoCA,QApCA,oBAoCA;AACA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA,qBADA;AAEA,uBAFA;AAGA,wBAHA;AAIA,yBAJA;AAKA;AACA;AACA;AACA,uCADA;;AAGA,WAJA,MAIA;AACA;AACA;AACA,SAbA;;AAeA;AACA,GAzDA;AA0DA;AACA,kBADA,4BACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAVA,EA1DA;;AAsEA;AACA,SADA,mBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA,CACA;AACA;AACA;AACA,OAJA,MAIA;AACA,oBADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDADA;AAEA,kBAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;;;;;;;;;;;AAWA;AACA,WAhBA,MAgBA;AACA;AACA;AACA;AACA,2BADA;AAEA,sCAFA;AAGA,iCAHA;AAIA;AACA;AACA,iBANA;;AAQA,aAVA,MAUA;AACA;AACA;AACA,6BADA;AAEA,wCAFA;AAGA,kCAHA;AAIA,mCAJA;AAKA;AACA;AACA;AACA;AACA,uBAFA,MAEA;AACA;AACA;AACA;AACA,mFADA;;AAGA,qBATA,MASA;AACA;AACA;AACA,mBAlBA;;AAoBA,eArBA,MAqBA;AACA;AACA,6BADA;AAEA,wCAFA;AAGA,mCAHA;AAIA;AACA;AACA,mBANA;;AAQA;AACA;AACA;AACA;AACA,SAnEA;AAoEA;AACA;AACA,SAtEA;;AAwEA,KA/FA;AAgGA,SAhGA,iBAgGA,IAhGA,EAgGA;AACA;AACA,2BADA;AAEA,2BAFA;AAGA,wCAHA;AAIA,iCAJA;AAKA,+BALA;AAMA,yBANA;AAOA,4BAPA;AAQA;AACA;AACA,yBADA;AAEA,2BAFA;AAGA,6BAHA;AAIA,6BAJA;AAKA;AACA;AACA;AACA,eAFA,MAEA;;AAEA;AACA,aAXA;;AAaA;AACA;AACA,SAxBA;AAyBA;AACA;AACA,yBADA;AAEA,yCAFA;AAGA,6BAHA;AAIA,6BAJA;AAKA;AACA;AACA;AACA,eAFA,MAEA;;AAEA;AACA,aAXA;;AAaA;AACA;AACA,SAzCA;;AA2CA,KA5IA;AA6IA,aA7IA,uBA6IA;AACA,oBADA,GACA,EADA;AAEA;AACA;AACA;AACA,gEADA;AAEA,4BAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,uCADA;AAEA,2CAFA;;AAIA;AACA;AACA;AACA;AACA,yBAFA,MAEA;AACA;AACA;AACA,2BAFA,MAEA;AACA;AACA;AACA;AACA,uBAXA,MAWA;AACA;AACA;AACA,qBAtBA,MAsBA;AACA;AACA;AACA,mBA7BA;AA8BA;AACA;AACA,mBAhCA,IAJA;;AAsCA,KAnLA;AAoLA,WApLA,qBAoLA;AACA;AACA;AACA,KAvLA;AAwLA,UAxLA,oBAwLA;AACA,gCADA,CACA;AACA;AACA,KA3LA;AA4LA,cA5LA,sBA4LA,CA5LA,EA4LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApMA;AAqMA,WArMA,qBAqMA;AACA;AACA;AACA,sBADA;AAEA,0BAFA,EAEA;AACA;AACA;AACA;AACA;AACA,8DADA;AAEA,yBAFA;AAGA;AACA,yDADA,EACA;AACA,4BAFA,CAEA;AAFA,aAHA;AAOA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA,+BADA;AAEA,mDAFA;AAGA,mCAHA;AAIA,mCAJA;AAKA;AACA;AACA;AACA,qBAFA,MAEA;;AAEA;AACA,mBAXA;;AAaA;AACA,aA1BA;AA2BA;AACA;AACA;AACA,aA9BA;;;AAiCA,SAvCA;AAwCA;AACA;AACA;AACA,SA3CA;;AA6CA,KApPA,EAtEA,E;;;;;;;;;;;;;AChGA;AAAA;AAAA;AAAA;AAA8oC,CAAgB,ioCAAG,EAAC,C;;;;;;;;;;;ACAlqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/client/tuan/buy.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/client/tuan/buy.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./buy.vue?vue&type=template&id=0ee73d80&\"\nvar renderjs\nimport script from \"./buy.vue?vue&type=script&lang=js&\"\nexport * from \"./buy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./buy.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/client/tuan/buy.vue\"\nexport default component.exports","export * from \"-!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./buy.vue?vue&type=template&id=0ee73d80&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./buy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./buy.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"pd16_15\">\t\r\n\t\t<view class=\"box pd16_15 flex\">\r\n\t\t\t<image class=\"tuan-buy-l\" :src=\"buydata.img\" mode=\"aspectFill\"></image>\r\n\t\t\t<view class=\"tuan-buy-r pl15\">\r\n\t\t\t\t<view v-if=\"mid>0\" class=\"ft14 ftw600 cl-main\">{{buydata.name}}【单集购买】【{{buydata.ji}}ID：{{mid}} 】</view>\r\n\t\t\t\t<view v-else class=\"ft14 ftw600 cl-main\">{{buydata.name}}</view>\r\n\t\t\t\t<view v-if=\"mid>0\" class=\"mt12 alcenter\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text class=\"ft14 cl-orange\">单集会员价：</text>\r\n\t\t\t\t\t\t<text class=\"ft16 cl-orange ftw600\">¥{{buydata.vippriced}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text class=\"ft14 cl-notice\">单集普通价：</text>\r\n\t\t\t\t\t\t<text class=\"ft14 cl-notice text-line\">¥{{buydata.priced}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-else class=\"mt12 alcenter\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text class=\"ft14 cl-orange\">全集会员价：</text>\r\n\t\t\t\t\t\t<text class=\"ft16 cl-orange ftw600\">¥{{buydata.vipprice}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text class=\"ft14 cl-notice\">全集普通价：</text>\r\n\t\t\t\t\t\t<text class=\"ft14 cl-notice text-line\">¥{{buydata.price}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"box mt16 pd16_15\">\r\n\t\t\t<!-- <view class=\"flex alcenter center\">\r\n\t\t\t\t<text class=\"iconfont iconbtn_plus ft32\" @click=\"jianAct\" style=\"color: #5C5E66;\"></text>\r\n\t\t\t\t<view class=\"ft16 ftw600 cl-main\" style=\"width: 100rpx; text-align: center;\">{{num}}</view>\r\n\t\t\t\t<text class=\"iconfont iconbtn_add ft32\"   @click=\"jiaAct\"  :style=\"{color:tempColor}\"></text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bd-line mt16 mb16\"></view>\r\n\t\t\t<view class=\"flex alcenter space\">\r\n\t\t\t\t<text class=\"ft14 cl-info2\">优惠券</text>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<select-coupon v-model=\"coupon_id\" :coupons=\"coupons\"></select-coupon>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bd-line mt16 mb16\"></view>\r\n\t\t\t<view class=\"flex alcenter space\">\r\n\t\t\t\t<text class=\"ft14 cl-info2\">会员优惠</text>\r\n\t\t\t\t<text class=\"ft16 cl-main ftw600\">-¥20</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bd-line mt16 mb16\"></view> -->\r\n\t\t\t<view class=\"flex alcenter space\">\r\n\t\t\t\t<text class=\"ft14 cl-info2\">需支付</text>\r\n\t\t\t\t<text v-if=\"mid>0\" class=\"ft16 cl-main ftw600 cl-orange\">¥{{buydata.pricedbuy}}</text>\r\n\t\t\t\t<text v-else class=\"ft16 cl-main ftw600 cl-orange\">¥{{buydata.pricebuy}}</text>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\r\n\t\t<view class=\"box mt16 pd16_15\">\r\n\t\t\t<view class=\"ft16 pb16 ftw600 cl-main\">支付方式</view>\r\n\t\t\t<view class=\"bd-line mt16\"></view>\r\n\t\t\t<radio-group @change=\"changeType\">\r\n\t\t\t\t<view class=\"pt16 pb16 flex alcenter space\">\r\n\t\t\t\t\t<view class=\"flex alcenter\">\r\n\t\t\t\t\t\t<text class=\"iconfont iconicon_pay_balance ft32 cl-green\"></text>\r\n\t\t\t\t\t\t<text class=\"ml15 ft14 ftw500 cl-main\">微信支付</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<radio value=\"weixin\" :checked=\"payType ==  'weixin'\" :color=\"tempColor\"  />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bd-line\"></view>\r\n\t\t\t<view class=\"pt16 flex alcenter space\">\r\n\t\t\t\t<view class=\"flex alcenter\">\r\n\t\t\t\t\t<text class=\"iconfont iconicon_pay_balance ft32\" style=\"color: #FFBD1E;\"></text>\r\n\t\t\t\t\t<text class=\"ml15 ft14 ftw500 cl-main\">余额支付</text>\r\n\t\t\t\t\t<!-- <text class=\"ml10 ft12 cl-notice\">余额为0，不可用</text> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<radio value=\"money\" :checked=\"payType ==  'money'\" :disabled=\"false\" :color=\"tempColor\"  />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t</radio-group>\r\n\t\t</view>\t\r\n\t\t<view class=\"form-footer-h\">\r\n\t\t\t<view class=\"form-footer form-footer-h\">\r\n\t\t\t\t<view class=\"form-footer-main pd10_15\">\r\n\t\t\t\t\t<button v-if=\"mid>0\" class=\"btn-big\" @click=\"okTap\" :style=\"getBtnStyle\">支付 ¥{{buydata.pricedbuy}}</button>\r\n\t\t\t\t\t<button v-else class=\"btn-big\" @click=\"okTap\" :style=\"getBtnStyle\">支付 ¥{{buydata.pricebuy}}</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\n</template>\n<script>\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tpayType:'weixin',\r\n\t\t\t\tnum:1,\r\n\t\t\t\tcoupon_id:0,\r\n\t\t\t\tbuydata:[],\r\n\t\t\t\tbuytype:'微信',\r\n\t\t\t\tdataList:[],\r\n\t\t\t\tmoney:0,\r\n\t\t\t\tmid:0,\r\n\t\t\t\topenid:'',\r\n\t\t\t\twxlx:'wxh5',\r\n\t\t\t\tcoupons:[\r\n\t\t\t\t\t{coupon_id:1,num:20},\r\n\t\t\t\t\t{coupon_id:2,num:30},\r\n\t\t\t\t\t{coupon_id:3,num:40},\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option){\r\n\t\t\tif(option.mid){\r\n\t\t\t\tthis.mid=option.mid\r\n\t\t\t}\r\n\t\t\tthis.buydata=uni.getStorageSync(\"buydata\") \r\n\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\tthis.wxlx='wxxcx'\r\n\t\t\tthis.wxlogin()\r\n\t\t\t//#endif\r\n\t\t\t//#ifdef H5\r\n\t\t\t\tvar ua = window.navigator.userAgent.toLowerCase();\r\n\t\t\t\tif(ua.match(/MicroMessenger/i) == 'micromessenger'){\r\n\t\t\t\t\tthis.wxlx = 'wxgzh';\r\n\t\t\t\t}\r\n\t\t\t//#endif\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif(uni.getStorageSync(\"userinfo\").token){\r\n\t\t\t\tthis.ongrzlTap()\r\n\t\t\t\tthis.money=uni.getStorageSync(\"userinfo\").money\r\n\t\t\t}else{\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\tcontent: '请先登录',\r\n\t\t\t\t\tshowCancel: true,\r\n\t\t\t\t\tconfirmText: \"登录\",\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl:'/pages/login/login'\r\n\t\t\t\t\t\t\t})\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tuni.navigateBack();\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tgetCouponMoney(){\r\n\t\t\t\tif(this.coupons.length > 0){\r\n\t\t\t\t\tfor(var a  in this.coupons){\r\n\t\t\t\t\t\tif(this.coupons[a].coupon_id == this.coupon_id){\r\n\t\t\t\t\t\t\treturn this.coupons[a].num;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tokTap(){\r\n\t\t\t\tvar thia=this\r\n\t\t\t\tthis.dataList=this.buydata;\r\n\t\t\t\tthis.dataList.sum=1;\r\n\t\t\t\tthis.dataList.buytype=this.buytype;\r\n\t\t\t\t//https://rw.gzzsw.cn/api/pay/index?token=a69720a4-6c4c-4baf-b269-d5260b821c7a\r\n\t\t\t\tlet data = this.dataList;\r\n\t\t\t\tdata.token = uni.getStorageSync(\"userinfo\").token;\r\n\t\t\t\tdata.uid = uni.getStorageSync(\"userinfo\").id; \r\n\t\t\t\tif(this.mid>0){\r\n\t\t\t\t\tdata.lx=2;//1 全章购买 2单集购买\r\n\t\t\t\t\tdata.smid=this.mid;\r\n\t\t\t\t\tdata.namet=data.name+'【单集购买】'+data.ji+'【ID：'+this.mid+' 】';\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdata.lx=1;//1 全章购买 2单集购买\r\n\t\t\t\t\tdata.smid=0;\r\n\t\t\t\t\tdata.namet=data.name\r\n\t\t\t\t}\r\n\t\t\t\tdata.wxlx=this.wxlx;\r\n\t\t\t\tdata.openid=this.openid;\r\n\t\t\t\tdata.info=[];\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: this.configs.webUrl+'/api/pay/videopay',\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tsuccess: resa =>{\r\n\t\t\t\t\t\t//console.log(resa.data);\r\n\t\t\t\t\t\tif(thia.dataList.buytype=='微信'){\r\n\t\t\t\t\t\t\tif(this.wxlx=='wxxcx' && resa.data.code==1){\r\n\t\t\t\t\t\t\t\t//console.log(resa.data.code);\r\n\t\t\t\t\t\t\t\tthis.wxxcx(resa.data.data);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl:'/pages/client/webva?url='+resa.data.data\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t//plus.runtime.openURL(res.data.data);\r\n\t\t\t\t\t\t\t\t// #endif  \r\n\t\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t\twindow.open(resa.data.data, \"_self\")\r\n\t\t\t\t\t\t\t\t// #endif \r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else if(thia.dataList.buytype=='余额'){\r\n\t\t\t\t\t\t\tif(resa.data.code==1){\r\n\t\t\t\t\t\t\t\t//pages/user/task/task\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\t\tcontent: resa.data.msg,\r\n\t\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack();\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tif(resa.data.msg=='余额不足'){\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\t\t\tcontent: resa.data.msg,\r\n\t\t\t\t\t\t\t\t\t\tshowCancel: true,\r\n\t\t\t\t\t\t\t\t\t\tconfirmText: \"充值\",\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(thia.mid>0){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar pricebuy=thia.buydata.pricedbuy\r\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar pricebuy=thia.buydata.pricebuy\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl:\"/pages/client/vipcard/recharge?price=\"+pricebuy*1\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t//uni.navigateBack();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\t\t\tcontent: resa.data.msg,\r\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack();\t\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//thia.okPay(resa)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (data, code) => {\r\n\t\t\t\t\t\tconsole.log('fail' + JSON.stringify(data));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\twxxcx(data){\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t    \"provider\": 'wxpay',\r\n\t\t\t\t\t\"appId\": data.appId,\r\n\t\t\t\t\t\"timeStamp\": data.timeStamp+'',\r\n\t\t\t\t\t\"nonceStr\": data.nonceStr,\r\n\t\t\t\t\t\"package\": data.package,\r\n\t\t\t\t\t\"signType\": 'MD5',\r\n\t\t\t\t\t\"paySign\": data.sign,\r\n\t\t\t\t\tsuccess: function (res1) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\t\t\tcontent: '支付成功',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: \"确定\",\r\n\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.navigateBack();\t\r\n\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//uni.showToast({ title: '支付成功',icon:\"none\" });\r\n\t\t\t\t\t\tconsole.log('success:' + JSON.stringify(res1));\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function (err1) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '支付失败',\r\n\t\t\t\t\t\t\tcontent: JSON.stringify(err1),\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: \"确定\",\r\n\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t//uni.navigateBack();\r\n\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//uni.showToast({ title: JSON.stringify(err1),icon:\"none\" });\r\n\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err1));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync ongrzlTap(){\r\n\t\t\t\tlet data = {};\r\n\t\t\t\tdata.token = uni.getStorageSync(\"userinfo\").token;\r\n\t\t\t\tdata.uid = uni.getStorageSync(\"userinfo\").id;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: this.configs.webUrl+'/api/user/index',\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tsuccess: res =>{\r\n\t\t\t\t\t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\tlet ionfo=res.data.data\r\n\t\t\t\t\t\t\tionfo.isLogin=true\r\n\t\t\t\t\t\t\tthis.userinfo=ionfo\r\n\t\t\t\t\t\t\tuni.setStorage({//缓存配置信息\r\n\t\t\t\t\t\t\t\tkey: 'userinfo',  \r\n\t\t\t\t\t\t\t\tdata: res.data.data\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tif(res.data.data.avatar){\r\n\t\t\t\t\t\t\t\t\tvar str = res.data.data.avatar;\r\n\t\t\t\t\t\t\t\t\tif(str.indexOf(\"data:image\") != -1){\r\n\t\t\t\t\t\t\t\t\t\tthis.avatar='';\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tif(str.indexOf(\"http\") != -1){\r\n\t\t\t\t\t\t\t\t\t\t\tthis.avatar=res.data.data.avatar;\r\n\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.avatar=this.configs.imgUrl+res.data.data.avatar;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.avatar='';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({ title: res.data.msg,icon:\"none\" });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (data, code) => {\r\n\t\t\t\t\t\t//console.log('fail' + JSON.stringify(data));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\t\t\r\n\t\t\t},\r\n\t\t\tjianAct(){\r\n\t\t\t\tif(this.num == 1) return;\r\n\t\t\t\tthis.num = this.num - 1;\r\n\t\t\t},\r\n\t\t\tjiaAct(){\r\n\t\t\t\tif(this.num > 99) return; //后面改为库存数量\r\n\t\t\t\tthis.num = this.num + 1;\r\n\t\t\t},\r\n\t\t\tchangeType(e){\r\n\t\t\t\tthis.payType = e.detail.value;\r\n\t\t\t\tif(e.detail.value=='money'){\r\n\t\t\t\t\tthis.buytype = '余额';\r\n\t\t\t\t}\r\n\t\t\t\tif(e.detail.value=='weixin'){\r\n\t\t\t\t\tthis.buytype = '微信';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twxlogin(){\r\n\t\t\t\tvar this_=this\r\n\t\t\t\t\t  uni.login({\r\n\t\t\t\t\t       timeout: 10000,\r\n\t\t\t\t\t        provider: 'weixin',  //如果是uniapp，在这里需要标明平台的类型，支持的参数请查阅uniapp官网的uni.login()文档\r\n\t\t\t\t\t        success: (res) => {\r\n\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t  \t\t\t//登陆成功的回调\r\n\t\t\t\t\t\t\t\tuni.request({  \r\n\t\t\t\t\t\t\t\t      url: this.configs.webUrl+'/api/user/getOpenid',  \r\n\t\t\t\t\t\t\t\t      method:'GET',  \r\n\t\t\t\t\t\t\t\t      data: {   \r\n\t\t\t\t\t\t\t\t          token: uni.getStorageSync(\"userinfo\").token,       //你的小程序的secret,  \r\n\t\t\t\t\t\t\t\t          code: res.code                                      //wx.login 登录成功后的code  \r\n\t\t\t\t\t\t\t\t      },  \r\n\t\t\t\t\t\t\t\t      success: (cts) => {  \r\n\t\t\t\t\t\t\t\t          console.log(cts.data.code);\r\n\t\t\t\t\t\t\t\t\t\t  if(cts.data.code==1){\r\n\t\t\t\t\t\t\t\t\t\t\t  this_.openid=cts.data.data.openid\r\n\t\t\t\t\t\t\t\t\t\t  }else{\r\n\t\t\t\t\t\t\t\t\t\t\t  uni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t  \ttitle: '温馨提示',\r\n\t\t\t\t\t\t\t\t\t\t\t  \tcontent: JSON.stringify(cts.data),\r\n\t\t\t\t\t\t\t\t\t\t\t  \tshowCancel: false,\r\n\t\t\t\t\t\t\t\t\t\t\t  \tconfirmText: \"确定\",\r\n\t\t\t\t\t\t\t\t\t\t\t  \tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\t\t\t\t  \t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t  \t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t\t\t\t\t\t  \t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t  \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t  \t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t  \t}\r\n\t\t\t\t\t\t\t\t\t\t\t  });\r\n\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t      },\r\n\t\t\t\t\t\t\t\t\t  fail: (err1) => {\r\n\t\t\t\t\t\t\t\t\t  \tconsole.log(err1);\r\n\t\t\t\t\t\t\t\t\t     \t//失败的回调\r\n\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t});  \r\n\t\t\t\r\n\t\t\t\t\t  \t  },\r\n\t\t\t\t\t        fail: (err) => {\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t           \t//登陆失败的回调\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t  })\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n\t.tuan-buy-l{\r\n\t\twidth: 200rpx;\r\n\t\theight: 150rpx;\r\n\t\tbackground: #F2F2F2;\r\n\t}\r\n\t.tuan-buy-r{\r\n\t\twidth: calc(100% - 200rpx);\r\n\t}\n</style>","import mod from \"-!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./buy.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\download\\\\HBuilderX.2.8.5.20200812.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./buy.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1659516801558\n      var cssReload = require(\"H:/download/HBuilderX.2.8.5.20200812.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}